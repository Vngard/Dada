<link rel="import" href="../../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../../bower_components/paper-tabs/paper-tabs.html">

<dom-module id="dada-action">
    <template>
        <style>
             :host {
                display: block;
            }
        </style>
        <paper-tabs selected="{{selected}}" scrollable>
            <paper-tab on-click="_activeChanged">The first tab</paper-tab>
            <paper-tab on-click="_activeChanged">Tab two</paper-tab>
            <paper-tab on-click="_activeChanged">The third tab</paper-tab>
        </paper-tabs>

        <iron-collapse id="collapse">
            <iron-pages selected="{{selected}}">
                <div on-click="closeCollapse">One</div>
                <div on-click="closeCollapse">Two</div>
                <div on-click="closeCollapse">Three</div>
            </iron-pages>
        </iron-collapse>


    </template>

    <script>
        /**
     * @customElement
     * @polymer
     */
        class DadaAction extends Polymer.Element {
            static get is() { return 'dada-action'; }
            static get properties() {
                return {
                    selected: {
                        type: String,
                        value: '0'
                    }
                };
            }

            closeCollapse() {
                console.log('plop close ', arguments);
                this.$.collapse.toggle();
            }
            _activeChanged() {
                console.log("collapse state : ", this.$.collapse.opened, this.$.collapse)
                if(!this.$.collapse.opened){
                    this.$.collapse.toggle();
                }
            }
        }


        window.customElements.define(DadaAction.is, DadaAction);
    </script>
</dom-module>