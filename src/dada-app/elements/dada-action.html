<link rel="import" href="../../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="dada-table.html">

<dom-module id="dada-action">
    <template>
        <style>
             :host {
                display: block;
            }

            .papertabs-style {
                --paper-tabs-selection-bar-color: black;
                height: 15em;
                border-top: 1px solid #D4D4D4;
            }

            .papertab-style:hover {
                -moz-box-shadow: 0px 0px 10px #949494;
                -webkit-box-shadow: 0px 0px 10px #949494;
                box-shadow: 0px 0px 10px #949494;
            }

            .papertab-style:focus {
                -moz-box-shadow: 0px 0px 10px #949494;
                -webkit-box-shadow: 0px 0px 10px #949494;
                box-shadow: 0px 0px 10px #949494;
            }

            .papertab-style{
                /*margin: 0 5px; decommente si tu veux voir l'ombre sur les bords exterieurs des paper tab exterieur*/
            }

            .custom-slide {
                display: flex;
                margin-left: auto;
                margin-right: auto;
                height: 30%;
                width: 30%;
            }

            .slide-content {
                display: flex;
                margin-left: auto;
                margin-right: auto;
            }

            .close {
                position: relative;
                float: right;
                margin-right: 2em;
            }

            .title-action {
                margin-top:1em;
                margin-left: 3em;
            }

            .container {
                text-align: center;
            }

            h1{
                margin:2px;
                font-weight: bold;
            }

            p{
                margin:2px;
            }
            
        </style>
        <paper-tabs class="papertabs-style" selected="{{selected}}">
            <paper-tab on-click="_activeChanged" class="papertab-style">
                <div class="container">
                    <img src="src/img/device.png" class="custom-slide" />
                    <span class="title-action"><h1>Choisir</h1></span>
                    <p>L'exposition parmi celles proposées</p>
                    <p>par nos musées partenaires.</p>
                </div>
            </paper-tab>
            <paper-tab on-click="_activeChanged" class="papertab-style">
                <div class="container">
                    <img src="src/img/ticket.png" class="custom-slide" />
                    <span class="title-action"><h1>Acheter</h1></span>
                    <p>A l'unité, en groupe, ou abonnement mensuel,</p>
                    <p>pour profiter des réductions.</p>
                </div>
            </paper-tab>
            <paper-tab on-click="_activeChanged" class="papertab-style">
                <div class="container">
                    <img src="src/img/eyes.png" class="custom-slide" />
                    <span class="title-action"><h1>Visiter</h1></span>
                    <p>Vous pouvez mettre en pause</p>
                    <p>et reprendre à tout moment.</p>
                </div>
            </paper-tab>
        </paper-tabs>

        <iron-collapse id="collapse">
            <iron-pages selected="{{selected}}">
                <div>
                    <div class="close">
                        <iron-icon icon="icons:close" on-click="closeCollapse"></iron-icon>
                    </div>
                    <div>
                        <img src="src/img/choix.png" class="slide-content"></img>
                    </div>
                </div>
                <div>
                    <div class="close">
                        <iron-icon icon="icons:close" on-click="closeCollapse"></iron-icon>
                    </div>
                    <div>
                        <dada-table></dada-table>
                    </div>
                </div>
                <div>
                    <div class="close">
                        <iron-icon icon="icons:close" on-click="closeCollapse"></iron-icon>
                    </div>
                    <div>
                        <img src="src/img/visiter.png" class="slide-content"></img>
                    </div>
                </div>
            </iron-pages>
        </iron-collapse>


    </template>

    <script>
        /**
     * @customElement
     * @polymer
     */
        class DadaAction extends Polymer.Element {
            static get is() { return 'dada-action'; }
            static get properties() {
                return {
                    selected: {
                        type: String,
                        value: '0'
                    }
                };
            }

            closeCollapse() {
                console.log('plop close ', arguments);
                this.$.collapse.toggle();
            }
            _activeChanged() {
                console.log("collapse state : ", this.$.collapse.opened, this.$.collapse)
                if (!this.$.collapse.opened) {
                    this.$.collapse.toggle();
                }
            }
        }


        window.customElements.define(DadaAction.is, DadaAction);
    </script>
</dom-module>